# 식물 시스템 재개편 TODO

## 기존 simple-farm-backup.html의 비주얼 요소 분석

### 🎨 우수한 UI/UX 요소들

1. **화분 시각화**
   - 🪴 화분 이모지로 명확한 구분 (#1, #2)
   - 🕳️ 빈 화분 표시 (amber-100 배경, 테두리 강조)
   - plant-pot 클래스로 호버 효과 (scale 1.05)
   - 화분 클릭으로 상호작용 가능

2. **식물 성장 애니메이션**
   - `.plant-growing`: 3초 주기로 크기 변화 (1 → 1.02)
   - `.plant-happy`: 물 받은 후 bouncing 효과
   - `.water-drop`: 물방울 떨어지는 애니메이션
   - `.love-heart`: 💚 하트 떠오르는 효과

3. **씨앗 선택 모달**
   - 등급별 컬러 구분 (일반:gray, 고급:blue, 에픽:purple, 전설:yellow)
   - 씨앗 이모지로 시각적 구분 (⚪🔵🟣🟡)
   - 성장기간/보상/등급하락 정보 표시
   - 가격 정보 및 보유 금액 표시
   - 경제 시스템 안내 (노란색 배경 infobox)

4. **물주기 학습 모달**
   - 🌱 식물 캐릭터 표시
   - 식물이 말하는 듯한 대화창 ("안녕! 나에게 물을 줘!")
   - 문제/정답/해설 구조화된 표시
   - 파란색 학습 컨텐츠 박스

5. **식물 정보 카드**
   - 단계 표시 (씨앗 → 새싹 → 줄기 → 완성)
   - 등급 및 수익 정보
   - 돌봄 정도 프로그레스바 (초록색)
   - 숨김/표시 토글

6. **말풍선 팝업**
   - `.speech-bubble`: 식물이 하는 말 표시
   - 위치: 화면 상단 중앙
   - 3초 후 자동 사라짐
   - 하단 삼각형 꼬리 효과

## 🔄 새 plant.md 시스템과 통합 방안

### 유지할 요소
- ✅ 화분 2개 UI 구조
- ✅ 씨앗 선택 모달 디자인
- ✅ 물주기 학습 모달 구조
- ✅ 애니메이션 효과들
- ✅ 식물 대화 시스템
- ✅ 프로그레스바 표시

### 변경/추가할 요소

#### 1. 헤더 영역
```
현재: 돈, 물방울 표시
변경: 일일 진행률 (0/9 과목), 성장권 개수 추가
```

#### 2. 보상 현황 섹션 (새로 추가)
```
- 🎫 성장권: X개 (클릭 시 상세 모달)
- 🎁 일반 뽑기권: X개
- 💎 프리미엄 뽑기권: X개
- 다음 보상 안내 (infobox)
```

#### 3. 식물 카드 정보
```
기존: 등급, 성장일수, 돌봄도, 수확금액
추가:
  - 물 개수 표시 (X/20)
  - 남은 시간 표시 (24시간 카운트다운)
  - 상태 표시 (PLANTED/READY/GROWN)
  - 성장 조건 충족 여부 시각화
```

#### 4. 씨앗 심기 변경
```
기존: 등급 선택 → 돈으로 구매
변경: 단순히 씨앗 심기 (무료, 등급 없음)
이유: 새 시스템은 보상이 과목 완료이므로
```

#### 5. 물주기 시스템 변경
```
기존: 물방울 소모 → 학습 컨텐츠 표시 → 식물 성장
변경:
  - 약점 과목 자동 선택
  - 문제 4지선다 (틀려도 다시 시도 가능)
  - 정답 시 물 +1 (무제한)
  - 식물 대화: "고마워! 물이 정말 시원해!" → "고마워! 이제 X/20 물을 받았어!"
```

#### 6. 성장 버튼 (새로 추가)
```
조건: 물 20개 + 24시간 경과 시 READY 상태
버튼: "🌱 성장시키기" (초록색 강조)
클릭 시:
  - 성장권 확인
  - 성장권 소모
  - 식물 GROWN 상태로 변경
  - 축하 애니메이션
```

## 📝 구현 작업 목록

### Phase 1: UI 구조 통합
- [ ] simple-farm.html에 보상 현황 섹션 추가
- [ ] 헤더에 일일 진행률 표시 추가
- [ ] 식물 카드에 물/시간 정보 추가
- [ ] 상태별 버튼 분기 (물주기/성장시키기/수확)

### Phase 2: 씨앗 심기 단순화
- [ ] 씨앗 선택 모달 제거 또는 간소화
- [ ] plantNewSeed() 함수를 버튼 클릭으로 직접 연결
- [ ] 화분당 1개씩만 심을 수 있도록 제한

### Phase 3: 물주기 연동
- [ ] 약점 과목 자동 선택 UI 추가
- [ ] 과목 아이콘/색상 표시
- [ ] 4지선다 문제 UI 구현
- [ ] 정답/오답 피드백 애니메이션
- [ ] 물 증가 시 프로그레스바 업데이트

### Phase 4: 성장 시스템
- [ ] READY 상태 시각화 (초록색 강조, 반짝임)
- [ ] 성장시키기 버튼 추가
- [ ] 성장권 부족 시 안내 메시지
- [ ] 성장 완료 축하 애니메이션

### Phase 5: 식물 대화 개선
- [ ] 상태별 대화 내용 변경
  - PLANTED: "물을 주면 쑥쑥 자랄 거예요!"
  - 물주기 후: "고마워! X/20 물을 받았어!"
  - READY: "드디어 성장할 준비가 됐어요! 성장권을 사용해주세요!"
  - GROWN: "완전히 자랐어요! 수고하셨어요 🎉"

### Phase 6: 애니메이션 통합
- [ ] 기존 애니메이션 유지 (grow, water-drop, love-heart)
- [ ] 성장 준비 시 sparkle 효과 추가
- [ ] 성장 완료 시 폭죽 효과 추가

## 🎯 최종 목표

**기존 simple-farm의 귀여운 비주얼 + plant.md의 체계적인 학습 보상 시스템**

- 사용자는 귀여운 화분과 식물을 보면서
- 약점 과목 문제를 풀어 물을 주고
- 일일 목표 달성으로 성장권을 받아
- 24시간 후 식물을 성장시키는
- 즐겁고 동기부여되는 학습 경험
